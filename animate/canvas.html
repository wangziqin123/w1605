<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        canvas{
            background:#ccc;
        }
    </style>
    <script>
        window.onload=function(){
            var canvas=document.querySelector("canvas");
            var cobj=canvas.getContext("2d");
            /*
            *  图像合成
            var img=document.getElementsByTagName("img")[0];
            cobj.fillStyle="green";
            cobj.fillRect(0,0,100,100);
            cobj.fillStyle="red";
            cobj.globalCompositeOperation="lighter"
            cobj.save();
            cobj.translate(90,90);
            cobj.fillRect(0,0,100,100);
            cobj.restore();
           */





            function fire(){
                this.x=100;
                this.y=100;
                this.speedy=-4*Math.random()-4;
                this.life=4;
                this.r=5+5*Math.random();
                this.color="rgb(226,17,12)";
            }
            fire.prototype={
                draw:function(){
                    cobj.save();
                    cobj.beginPath();
                    cobj.fillStyle=this.color;
                    cobj.globalCompositeOperation="lighter";
                    cobj.translate(this.x,this.y);
                    cobj.arc(0,0,this.r,0,2*Math.PI);
                    cobj.fill();
                    cobj.restore();
                },
                update:function(){
                    this.x+=(4*Math.random()-2);
                    this.y+=this.speedy;
                    this.life-=0.3;
                    this.r-=0.8;
                }
            }

            var arr=[];
            setInterval(function(){
                cobj.clearRect(0,0,600,600);
                var obj=new fire();
                arr.push(obj);
                for(var i=0;i<arr.length;i++){
                    arr[i].draw();
                    arr[i].update();
                    if(arr[i].r<0||arr[i].life<0){
                        arr[i]=new fire();
                    }
                }


            },50)








        }
    </script>
</head>
<body>
<canvas width="600" height="600">
    您的浏览器不支持canvas标签
</canvas>
<img src="imgs/person/run1.png" alt="" hidden>
</body>
</html>